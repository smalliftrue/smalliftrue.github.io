<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alex Wang's Computer Sports Rankings</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrapper">
    <header>
      <h1>ALEX WANG'S COMPUTER SPORTS RANKINGS</h1>
    </header>

    <aside class="sidebar-left">
      <div class="vertical-text">FOOTBALL (FBS) 7.9.25</div>
      <!-- You can change data-src if cfr2025.html lives elsewhere -->
      <ol class="top25" data-src="cfr/cfr2025.html">
        <li>Team 1</li>
        <li>Team 2</li>
        <li>Team 3</li>
        <li>Team 4</li>
        <li>Team 5</li>
        <li>Team 6</li>
        <li>Team 7</li>
        <li>Team 8</li>
        <li>Team 9</li>
        <li>Team 10</li>
        <li>Team 11</li>
        <li>Team 12</li>
        <li>Team 13</li>
        <li>Team 14</li>
        <li>Team 15</li>
        <li>Team 16</li>
        <li>Team 17</li>
        <li>Team 18</li>
        <li>Team 19</li>
        <li>Team 20</li>
        <li>Team 21</li>
        <li>Team 22</li>
        <li>Team 23</li>
        <li>Team 24</li>
        <li>Team 25</li>
      </ol>
    </aside>

    <main>
      <section class="methodology">
        <h2>USF KNOCKS DOWN FLORIDA</h2>
        <p>GAINESVILLE - The USF Bulls (2-0, AP: NR, CVI: 59) took down the Florida Gators (1-1, AP: 13, CVI: 28) today in a non-conference showdown in the Sunshine State, 18-16. Two penalties late in the 4th quarter, summing up to 28 yards, led to USF kicker Nico Grammatica nailing a game-winning field goal for their second ranked win of the season.</p>
        <h2>MENSAH, DUKE RECORD FIVE TURNOVERS IN 45-19 ROUT BY ILLINOIS</h2>
        <p>DURHAM - The Illinois Fightin' Illini (2-0, AP: 11, CVI: 29) capitalized on five turnovers by the Duke Blue Devils (1-1, AP: NR, CVI: 39) in a 45-19 victory today. Wide receiver Hank Beatty had 8 receptions today. Despite multiple TFLs by Duke during the first half, the Illinois offense continued strong into the second half to bring the victory back to Champaign.</p>
        <h2>MATEER DRAWS COMPARISONS TO MANZIEL, MAYFIELD IN 24-13 VICTORY OVER MICHIGAN</h2>
        <p>NORMAN - The Oklahoma Sooners (2-0, AP: 18, CVI: 36) scored a victory over the Michigan Wolverines (1-1, AP: 15, CVI: 8) at home today. Washington State transfer quarterback John Mateer, who was the subject of a Venmo transaction controversy earlier in the season, established himself as a clear contender for the Heisman trophy this year with a 270-yard, 21/34 performance with 1 passing touchdown.</p>
      </section>
      <section class="methodology">
        <h2>Methodology</h2>
        <p>The computer votecasting index (CVI) has each team submit "votes" for the teams it played, based on how well a team performed in relation to their average opponent. Votes are then used as "weights" to determine strength of schedule. This process is continued using the last-pass weights until convergence is achieved.</p>
      </section>

      <section class="rankings">
	<h2><a href="cfr/cfr2025.html">CURRENT RANKINGS - 2025 WEEK 2</a></h2>
        <h2>Index to Weekly 2025 Rankings</h2>
        <ul>
          <li><a href="cfr/cfr2025w1.html">Week 1</a></li>
          <li><a href="cfr/2025pre.html">Preseason</a></li>
        </ul>
      </section>
	
      <section class="rankings">
        <h2>Past Rankings (1984-)</h2>
        <ul>
          <li><a href="college-football.html">CVI Ratings 1984-present</a></li>
        </ul>
      </section>
    </main>
  </div>

  <!-- Script to dynamically load top 25 from cfr2025.html -->
  <script>
  async function loadTop25() {
    const list = document.querySelector(".top25");
    if (!list) return;

    // Allow overriding the source path via data-src on the <ol>
    const src = list.dataset.src || "cfr/cfr2025.html";

    try {
      // Cache-bust so weekly updates show up immediately on GitHub Pages
      const response = await fetch(src + "?v=" + Date.now());
      if (!response.ok) throw new Error("HTTP " + response.status);
      const html = await response.text();

      // Parse fetched HTML and get the <pre> text
      const doc = new DOMParser().parseFromString(html, "text/html");
      const pre = doc.querySelector("pre");
      const preText = pre ? pre.textContent : html;

      // Parse lines and extract the team names for the first 25 ranks
      const names = [];
      const lines = preText.split(/\r?\n/);

      for (const line of lines) {
        const m = line.match(/^\s*\d+\.\s+(.+?)\s+\d/);
        if (m) {
          names.push(m[1].trim());
          if (names.length === 25) break;
        }
      }

      if (names.length === 0) {
        console.warn("No ranked team lines found. Check the source format.");
        return;
      }

      // Replace list contents
      list.innerHTML = "";
      names.forEach(team => {
        const li = document.createElement("li");
        li.textContent = team;
        list.appendChild(li);
      });
    } catch (err) {
      console.error("Error loading top 25:", err);
    }
  }

  // Run when DOM is ready
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", loadTop25);
  } else {
    loadTop25();
  }
  </script>
</body>
</html>
